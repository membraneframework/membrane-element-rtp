defmodule Membrane.Element.RTP.ParserTest do
  use ExUnit.Case

  @sampleFrame <<128, 96, 171, 202, 29, 135, 131, 98, 33, 173, 237, 89, 92, 1, 127, 215, 135, 54,
                 34, 164, 244, 153, 73, 103, 155, 40, 36, 55, 16, 146, 228, 82, 189, 120, 0, 133,
                 183, 103, 128, 43, 149, 118, 212, 85, 237, 64, 1, 31, 9, 160, 55, 47, 228, 38,
                 163, 25, 62, 154, 42, 157, 77, 114, 90, 241, 140, 240, 68, 132, 40, 90, 52, 185,
                 134, 237, 214, 4, 174, 150, 202, 37, 214, 84, 228, 185, 156, 19, 140, 12, 132,
                 194, 106, 179, 210, 14, 77, 47, 248, 210, 33, 111, 218, 236, 156, 121, 178, 215,
                 208, 122, 24, 158, 184, 208, 96, 53, 165, 220, 88, 162, 99, 159, 61, 136, 182,
                 224, 175, 60, 60, 200, 157, 226, 18, 49, 233, 91, 232, 5, 88, 107, 77, 52, 192,
                 216, 85, 148, 52, 251, 251, 155, 125, 250, 154, 161, 66, 198, 63, 149, 187, 148,
                 116, 204, 178, 246, 89, 11, 191, 177, 49, 30, 175, 86, 18, 234, 217, 234, 90, 86,
                 146, 180, 182, 49, 38, 198, 185, 237, 193, 155, 235, 170, 21, 234, 102, 241, 176,
                 9, 24, 200, 157, 37, 159, 101, 58, 88, 37, 147, 158, 4, 53, 124, 65, 245, 4, 151,
                 33, 34, 58, 239, 211, 103, 175, 113, 197, 52, 244, 77, 178, 242, 146, 142, 137,
                 219, 98, 5, 160, 216, 113, 31, 65, 107, 136, 26, 209, 30, 79, 39, 242, 51, 33,
                 110, 118, 86, 201, 211, 41, 44, 185, 94, 93, 188, 184, 219, 75, 11, 181, 142,
                 214, 45, 114, 4, 214, 155, 3, 117, 27, 109, 168, 118, 53, 146, 43, 22, 208, 70,
                 40, 14, 193, 44, 155, 4, 17, 90, 189, 38, 53, 47, 93, 89, 167, 36, 235, 132, 84,
                 11, 180, 4, 52, 24, 4, 145, 26, 54, 111, 92, 175, 129, 27, 239, 62, 45, 72, 223,
                 110, 30, 53, 90, 62, 70, 128, 233, 132, 118, 96, 55, 122, 117, 84, 51, 65, 153,
                 73, 82, 103, 118, 154, 31, 192, 7, 60, 125, 83, 219, 220, 45, 17, 23, 20, 170,
                 50, 146, 125, 53, 24, 108, 28, 251, 223, 80, 104, 143, 138, 253, 75, 161, 108,
                 47, 241, 164, 9, 241, 177, 140, 195, 93, 16, 81, 58, 142, 199, 129, 39, 126, 166,
                 34, 218, 231, 37, 47, 75, 128, 70, 178, 179, 3, 177, 65, 183, 30, 205, 92, 127,
                 190, 96, 206, 130, 189, 194, 66, 13, 250, 189, 249, 111, 166, 229, 106, 46, 191,
                 133, 151, 10, 16, 67, 237, 56, 251, 177, 136, 228, 209, 7, 125, 193, 202, 237,
                 43, 188, 241, 112, 222, 13, 171, 224, 47, 30, 136, 224, 52, 208, 168, 54, 137,
                 180, 146, 189, 57, 227, 77, 66, 4, 85, 29, 143, 94, 114, 183, 135, 204, 203, 29,
                 48, 110, 181, 99, 167, 18, 3, 200, 240, 246, 181, 225, 106, 87, 250, 224, 109,
                 244, 123, 17, 225, 6, 187, 68, 1, 23, 136, 27, 213, 53, 245, 240, 198, 101, 216,
                 19, 51, 94, 126, 133, 155, 108, 165, 208, 155, 197, 132, 155, 218, 177, 21, 130,
                 49, 9, 206, 83, 146, 187, 232, 237, 18, 104, 25, 27, 209, 83, 204, 90, 99, 176,
                 222, 94, 4, 21, 11, 239, 185, 143, 89, 242, 52, 13, 184, 195, 61, 210, 172, 118,
                 11, 238, 28, 176, 18, 240, 141, 172, 243, 248, 118, 25, 76, 91, 34, 194, 63, 28,
                 83, 189, 164, 54, 179, 17, 97, 241, 77, 209, 163, 211, 153, 193, 127, 173, 220,
                 185, 52, 121, 91, 53, 115, 93, 184, 138, 86, 172, 177, 138, 224, 119, 168, 217,
                 201, 45, 75, 28, 90, 178, 142, 219, 135, 126, 168, 131, 58, 55, 126, 138, 73, 12,
                 166, 168, 239, 247, 79, 70, 35, 112, 82, 72, 31, 6, 31, 178, 235, 236, 213, 145,
                 254, 161, 11, 144, 49, 149, 189, 124, 211, 203, 234, 192, 9, 224, 139, 196, 76,
                 39, 20, 171, 64, 127, 125, 197, 84, 1, 153, 219, 72, 143, 209, 48, 230, 39, 235,
                 212, 44, 160, 87, 213, 227, 163, 205, 123, 116, 205, 133, 8, 141, 163, 66, 214,
                 96, 14, 48, 57, 119, 247, 184, 201, 242, 124, 8, 3, 246, 132, 70, 108, 167, 176,
                 36, 224, 239, 41, 152, 9, 29, 4, 235, 85, 126, 138, 4, 76, 149, 236, 112, 123,
                 150, 67, 247, 21, 226, 125, 227, 224, 171, 14, 125, 213, 242, 34, 74, 57, 221,
                 25, 163, 132, 6, 234, 139, 194, 254, 73, 102, 54, 224, 105, 40, 51, 177, 237, 49,
                 163, 103, 123, 74, 240, 12, 99, 93, 84, 184, 14, 140, 205, 90, 48, 72, 44, 112,
                 44, 3, 175, 95, 252, 25, 7, 175, 85, 1, 38, 47, 247, 231, 212, 196, 53, 2, 189,
                 247, 75, 253, 208, 155, 45, 207, 75, 3, 77, 9, 150, 125, 13, 136, 163, 165, 53,
                 18, 76, 208, 66, 205, 89, 22, 238, 41, 146, 246, 123, 36, 102, 218, 113, 250, 12,
                 176, 226, 168, 162, 71, 62, 208, 42, 169, 193, 92, 31, 124, 44, 16, 201, 157, 38,
                 141, 250, 145, 25, 33, 96, 194, 151, 76, 14, 197, 44, 29, 60, 156, 196, 118, 41,
                 100, 119, 142, 117, 182, 32, 48, 161, 76, 102, 39, 253, 72, 202, 198, 167, 69,
                 105, 174, 244, 64, 54, 94, 98, 11, 79, 162, 113, 99, 149, 8, 10, 101, 22, 28, 10,
                 115, 182, 49, 198, 4, 213, 42, 8, 190, 104, 151, 110, 117, 47, 70, 45, 102, 252,
                 228, 234, 142, 58, 40, 23, 204, 202, 93, 93, 113, 80, 118, 162, 250, 134, 24,
                 201, 56, 65, 229, 5, 102, 207, 136, 35, 199, 62, 64, 128, 240, 148, 72, 29, 66,
                 211, 113, 56, 149, 27, 154, 146, 196, 244, 200, 81, 27, 89, 51, 145, 9, 183, 159,
                 165, 25, 225, 135, 43, 190, 152, 164, 209, 165, 117, 85, 99, 45, 228, 168, 50,
                 78, 138, 136, 129, 32, 106, 194, 107, 130, 57, 17, 131, 63, 87, 26, 126, 207,
                 109, 185, 198, 176, 223, 61, 183, 120, 206, 206, 47, 39, 62, 47, 176, 198, 5,
                 182, 122, 220, 245, 21, 40, 252, 206, 202, 190, 217, 208, 47, 184, 55, 151, 126,
                 86, 159, 50, 30, 217, 135, 119, 239, 46, 203, 202, 229, 174, 73, 198, 168, 40,
                 149, 55, 51, 138, 165, 35, 238, 254, 76, 99, 241, 63, 125, 123, 67, 77, 35, 94,
                 163, 117, 243, 73, 146, 10, 61, 37, 162, 160, 231, 15, 147, 11, 141, 156, 186,
                 242, 224, 33, 112, 113, 185, 244, 180, 56, 251, 175, 2, 202, 147, 20, 105, 189,
                 50, 235, 234, 131, 64, 193, 66, 3, 114, 37, 191, 18, 6, 195, 217, 40, 13, 11, 31,
                 114, 207, 58, 42, 37, 224, 63, 181, 215, 194, 46, 94, 1, 218, 150, 246, 238, 22,
                 98, 59, 45, 132, 24, 114, 97, 211, 39, 240, 230, 59, 9, 68, 43, 140, 127, 23,
                 219, 34, 5, 18, 135, 35, 27, 219, 228, 24, 251, 24, 82, 61, 29, 16, 166, 7, 129,
                 111, 35, 77, 63, 205, 53, 33, 244, 113, 46, 194, 107, 249, 23, 143, 223, 197,
                 224, 224, 225, 15, 111, 173, 242, 97, 215, 249, 252, 219, 52, 42, 174, 189, 245,
                 101, 100, 246, 152, 69, 203, 85, 172, 57, 118, 133, 94, 97, 9, 42, 77, 141, 51,
                 247, 103, 241, 164, 207, 229, 200, 43, 15, 191, 61, 70, 155, 169, 53, 60, 138,
                 91, 160, 142, 133, 220, 83, 243, 201, 200, 83, 9, 48, 39, 97, 7, 110, 220, 92,
                 167, 161, 127, 24, 127, 142, 180, 9, 191, 226, 233, 213, 123, 37, 253, 128, 194,
                 239, 66, 186, 76, 122, 9, 236, 206, 84, 45, 181, 199, 147, 146, 167, 132, 145,
                 36, 250, 208, 5, 255, 91, 6, 252, 45, 94, 167, 25, 150, 252, 61, 89, 60, 101,
                 237, 30, 138, 156, 155, 151, 177, 120, 194, 253, 26, 160, 32, 81, 153, 172, 158,
                 198, 245, 255, 232, 82, 166, 50, 232, 10, 25, 30, 112, 213, 120, 246, 6, 24, 227,
                 96, 17, 12, 49, 168, 177, 250, 160, 52, 29, 244, 148, 4, 160, 111, 144, 209, 88,
                 106, 188, 238, 97>>

  test "parser parses" do
    IO.inspect(Membrane.Element.RTP.Parser.parseFrame(@sampleFrame))
  end
end
